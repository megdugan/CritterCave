<!-- (CritterCave) -->
<!-- HTML template for a user's profile page -->

{% extends "base.html" %}

{% block head_stuff %}
<title>"Profile Page: Displays a user's information and all 
    the critters they created."</title>
{% endblock %}

{% block main_content %}

    <div class=".profile-settings-wrapper">
        <a href="{{ url_for('settings_page', uid=user.uid) }}" class="button-primary profile-settings-button">Settings</a>
    </div>

    <div  id="main" class="main">

        <!-- Profile Header Card -->
        <section class="critter-header-card">
            <div class="critter-info-left">
                {% if user.profilepic %}
                <img src="{{  url_for('uploaded_file', filename=user.profilepic) }}"
                    alt="Profile Picture" class="critter-profile-img">
                {% endif %}
            </div>

            <div class="critter-info-right">
                <h1 class="critter-name">{{ user.name }}</h1>
                <h4>@{{ user.username }}</h4>
                <h4>{{ user.created }}</h4>
                <a href="{{ url_for('critter_upload') }}"
                class="button-primary write-story-btn">
                Create a new critter
                </a>
            </div>
        </section>

        <h2>Critters:</h2>
        <div class="critter-grid">
            {% for critter in critters %}
            <div>
            <a href="{{ url_for('critter_page', cid=critter.cid) }}" class="critter-card">
                <img src="{{ url_for('uploaded_file', filename=critter.imagepath) }}"
                    alt="{{ critter.name }}">
                <p>{{ critter.name }}</p>
                
            </a>

            <div class="like-btn-container">
                <button type="button" class="like-btn" data-cid="{{ critter.cid }}">
                    <!-- Heart SVG -->
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                    </svg>
                </button>
                <div class="like-count-display">
                    <span class="like-count">{{ critter.likes }}</span> 
                </div>
            </div>


            </div>

            {% endfor %}
        </div>

    <a href="{{ url_for('critter_upload', uid=user.uid) }}" class="button-primary">
    Add another critter!</a>
    <p>Currently this only adds critters for Nina, 
        but this will be updated in Alpha to add critters for the user
        saved in the session.</p>


    </div>
{% endblock %}