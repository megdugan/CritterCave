<!-- (CritterCave) -->
<!-- Displays the results of a user's seach for a critter -->

{% extends "base.html" %}  

{% block head_stuff %}
<title>Critter Search Results</title>
{% endblock %}

{% block main_content %}      

<!-- sort search results form -->
<div class="topsection" id="first_main">
    <div class="sort-search">
        <form class="search" method="GET" action="{{ url_for('sort_critter_results', query=query) }}">
            <label>sort by:
                <select required name="value">
                    <option value="name">critter name</option>
                    <option value="username">creator username</option>
                    <option value="created">date created</option>
                    <option value="like_count">like count</option>
                </select>
            </label>
            <select required name="sort">
                <option value="ascending">ascending</option>
                <option value="descending">descending</option>
            </select>
            <input type="submit" value="apply">
        </form>
    </div>
</div>

<div class="critter-page">

{% for c in critters %}
    
<!-- Critter Header Card -->
<section class="critter-header-card">

    <div class="critter-info-left">
        {% if c['imagepath'] %}
        <img src="{{ url_for('uploaded_file', filename=c['imagepath']) }}"
            alt="Critter Image" class="critter-profile-img">
        {% endif %}
    </div>

    <div class="critter-info-right">
        <h1 class="critter-name"><a href="{{url_for('critter_page', cid=c['cid'])}}">{{c['name']}}</a></h1>
        <p class="critter-maker">
            <h4>{{ c['created'] }} | <a href="{{url_for('user_profile', uid=c['uid'])}}">
                {{c['username']}}</a>
            </h4>
            <h4>Likes: {{c['like_count']}}</h4>
        </p>

        <p class="critter-description">
            {{ c['description'] }}
        </p>
        
    </div>
</section>
<br>

{% endfor %}
</div>

{% endblock %}